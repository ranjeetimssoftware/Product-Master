{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MultiSelectGenericPopUpSettings } from '../../shared/components/generic/multiselect-generic-grid/multiselect-generic-grid.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../party-master-library.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/menu\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"../../shared/components/generic/multiselect-generic-grid/multiselect-generic-grid.component\";\nconst _c0 = [\"genericMultiSelectTermsAndCondition\"];\n\nfunction TermsAndConditionComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Action\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TermsAndConditionComponent_tr_18_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function TermsAndConditionComponent_tr_18_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const i_r5 = i0.ɵɵnextContext().index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onRemove(i_r5));\n    });\n    i0.ɵɵtext(1, \"Remove\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TermsAndConditionComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 13)(9, \"mat-icon\", 14);\n    i0.ɵɵtext(10, \"more_vert\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"mat-menu\", null, 15)(13, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function TermsAndConditionComponent_tr_18_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const element_r4 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onViewTerms(element_r4));\n    });\n    i0.ɵɵtext(14, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, TermsAndConditionComponent_tr_18_button_15_Template, 2, 0, \"button\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const element_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n\n    const _r6 = i0.ɵɵreference(12);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r4.Label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r4.isDefault);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r6);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.mode != \"view\");\n  }\n}\n\nfunction TermsAndConditionComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"mat-card\", 19)(2, \"mat-card-header\", 20)(3, \"mat-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-icon\", 21);\n    i0.ɵɵlistener(\"click\", function TermsAndConditionComponent_div_19_Template_mat_icon_click_5_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.closeTermsView());\n    });\n    i0.ɵɵtext(6, \"cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"p\", 22);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.termsAndCondition.Title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.termsAndCondition.description);\n  }\n}\n\nexport let TermsAndConditionComponent = /*#__PURE__*/(() => {\n  class TermsAndConditionComponent {\n    constructor(partyMasterService) {\n      this.partyMasterService = partyMasterService;\n      this.viewTerms = false;\n      this.termsAndCondition = {};\n      this.gridPopupSettingsForTermsAndCondition = new MultiSelectGenericPopUpSettings();\n      this.displayedColumns = ['sn', 'Description', 'IsDefault', 'action'];\n      this.dataSource = new MatTableDataSource();\n      this.termsAndConditions = [];\n      this.mode = 'add';\n      this.dataSource.data = this.partyMasterService.customermasterObj.customerPartyAccount.termsAndConditions;\n    }\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {\n      this.dataSource.paginator = this.paginator;\n    }\n\n    onEnterTermAndCondition() {\n      this.gridPopupSettingsForTermsAndCondition = {\n        title: \"Terms And Conditions List\",\n        apiEndpoints: `/getPOTermsAndConditionsPagedList`,\n        defaultFilterIndex: 1,\n        showIsDefaultSelection: true,\n        columns: [{\n          key: \"isCheck\",\n          title: \"\",\n          hidden: false,\n          noSearch: false\n        }, {\n          key: \"Label\",\n          title: \"Name\",\n          hidden: false,\n          noSearch: false\n        }, {\n          key: \"isDefault\",\n          title: \"Is Default\",\n          hidden: false,\n          noSearch: false\n        }]\n      };\n      this.genericMultiSelectTermsAndCondition.show();\n    }\n\n    onRemove(index) {\n      if (confirm('Are you sure you want to remove this item?')) {\n        this.termsAndConditions.splice(index, 1);\n      }\n    }\n\n    onViewTerms(terms) {\n      this.termsAndCondition.description = terms.TermsAndConditions;\n      this.termsAndCondition.Title = terms.Label;\n      this.viewTerms = true;\n    }\n\n    closeTermsView() {\n      this.viewTerms = false;\n    }\n\n    onCloseMultiSelectTermsAndCondition(event) {\n      this.termsAndConditions = event;\n      this.partyMasterService.customermasterObj.customerPartyAccount.termsAndConditions = this.termsAndConditions;\n    }\n\n  }\n\n  TermsAndConditionComponent.ɵfac = function TermsAndConditionComponent_Factory(t) {\n    return new (t || TermsAndConditionComponent)(i0.ɵɵdirectiveInject(i1.PartyMasterLibraryService));\n  };\n\n  TermsAndConditionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TermsAndConditionComponent,\n    selectors: [[\"lib-terms-condition\"]],\n    viewQuery: function TermsAndConditionComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.genericMultiSelectTermsAndCondition = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    inputs: {\n      termsAndConditions: \"termsAndConditions\",\n      mode: \"mode\"\n    },\n    decls: 22,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"row\", \"d-flex\", \"align-items-center\", \"mt-3\", \"mb-2\"], [1, \"col-12\", \"col-md-2\"], [\"for\", \"creditLimit\", 1, \"form-label\"], [1, \"col-11\", \"col-md-4\"], [\"type\", \"text\", \"id\", \"creditLimit\", \"placeholder\", \"Press Enter to Select\", 1, \"form-control\", \"px-2\", \"py-1\", 3, \"disabled\", \"keydown.Enter\"], [1, \"table-container\"], [2, \"width\", \"10%\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"position-absolute bg-white custom-position\", 4, \"ngIf\"], [3, \"popupsettings\", \"onPopUpClose\"], [\"genericMultiSelectTermsAndCondition\", \"\"], [\"mat-icon-button\", \"\", 2, \"border\", \"none\", \"background-color\", \"transparent\"], [3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"click\"], [\"mat-menu-item\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"position-absolute\", \"bg-white\", \"custom-position\"], [\"appearance\", \"outlined\", 1, \"example-card\"], [1, \"justify-content-between\", \"border-bottom\"], [1, \"mat-icon-small\", 3, \"click\"], [1, \"p-4\"]],\n    template: function TermsAndConditionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"label\", 3);\n        i0.ɵɵtext(4, \"Term And Condition\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"input\", 5);\n        i0.ɵɵlistener(\"keydown.Enter\", function TermsAndConditionComponent_Template_input_keydown_Enter_6_listener() {\n          return ctx.onEnterTermAndCondition();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"table\")(9, \"thead\")(10, \"th\", 7);\n        i0.ɵɵtext(11, \"SN\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Is Default\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, TermsAndConditionComponent_th_16_Template, 2, 0, \"th\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"tbody\");\n        i0.ɵɵtemplate(18, TermsAndConditionComponent_tr_18_Template, 16, 5, \"tr\", 9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(19, TermsAndConditionComponent_div_19_Template, 10, 2, \"div\", 10);\n        i0.ɵɵelementStart(20, \"multiselect-generic-grid\", 11, 12);\n        i0.ɵɵlistener(\"onPopUpClose\", function TermsAndConditionComponent_Template_multiselect_generic_grid_onPopUpClose_20_listener($event) {\n          return ctx.onCloseMultiSelectTermsAndCondition($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", ctx.mode == \"view\");\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.mode != \"view\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.termsAndConditions);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.viewTerms);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"popupsettings\", ctx.gridPopupSettingsForTermsAndCondition);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.MatIcon, i4.MatMenu, i4.MatMenuItem, i4.MatMenuTrigger, i5.MatButton, i6.MatCard, i6.MatCardHeader, i6.MatCardContent, i6.MatCardTitle, i7.MultiSelectGenericGridComponent],\n    styles: [\"table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{padding:0 3rem}tr.mat-header-row[_ngcontent-%COMP%]{height:40px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f6f6f6f5;padding:0}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;font-size:16px}input[_ngcontent-%COMP%]::placeholder{color:#acacac;font-size:14px;font-weight:400!important}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer;padding-bottom:0}.mat-menu-item[_ngcontent-%COMP%]{padding:0 5px;height:35px}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#f6f6f6;border-radius:4px}.form-control[_ngcontent-%COMP%]{padding-right:80px}.custom-position[_ngcontent-%COMP%]{z-index:99999;top:0;left:30%;width:45%}\"]\n  });\n  return TermsAndConditionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}