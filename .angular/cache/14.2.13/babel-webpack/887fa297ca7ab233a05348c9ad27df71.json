{"ast":null,"code":"import { FormBuilder } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../party-master-library.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/button\";\n\nfunction DivisionMappingComponent_label_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 11);\n    i0.ɵɵtext(1, \"Division\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_label_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 11);\n    i0.ɵɵtext(1, \"Branch\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Select Division\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Select Branch\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Is Applicable for all Divisions\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Is Applicable for all Branches\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Division Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Branch Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Action\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_tr_23_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\")(1, \"mat-icon\", 12);\n    i0.ɵɵlistener(\"click\", function DivisionMappingComponent_tr_23_td_5_Template_mat_icon_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const div_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.removeDivision(div_r11));\n    });\n    i0.ɵɵtext(2, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction DivisionMappingComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, DivisionMappingComponent_tr_23_td_5_Template, 3, 0, \"td\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const div_r11 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r12 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(div_r11.divisionName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.mode != \"view\");\n  }\n}\n\nfunction DivisionMappingComponent_div_24_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28);\n    i0.ɵɵtext(1, \"Select Division\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_div_24_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28);\n    i0.ɵɵtext(1, \"Select Branch\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DivisionMappingComponent_div_24_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"label\")(2, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function DivisionMappingComponent_div_24_div_16_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const check_r20 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(check_r20.isChecked = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const check_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", check_r20.isChecked)(\"checked\", check_r20.isChecked == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", check_r20.divisionName, \"\");\n  }\n}\n\nfunction DivisionMappingComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15);\n    i0.ɵɵtemplate(3, DivisionMappingComponent_div_24_p_3_Template, 2, 0, \"p\", 16);\n    i0.ɵɵtemplate(4, DivisionMappingComponent_div_24_p_4_Template, 2, 0, \"p\", 16);\n    i0.ɵɵelementStart(5, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function DivisionMappingComponent_div_24_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.close(\"close\"));\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 18)(8, \"div\", 19)(9, \"span\", 20)(10, \"mat-icon\");\n    i0.ɵɵtext(11, \"search\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"input\", 21);\n    i0.ɵɵlistener(\"keyup\", function DivisionMappingComponent_div_24_Template_input_keyup_12_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.applyFilter($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 22)(14, \"div\", 23)(15, \"div\", 24);\n    i0.ɵɵtemplate(16, DivisionMappingComponent_div_24_div_16_Template, 4, 3, \"div\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 26)(18, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function DivisionMappingComponent_div_24_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.close(\"ok\"));\n    });\n    i0.ɵɵtext(19, \" OK \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeRoute != \"product\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeRoute == \"product\");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.filteredDivisionList);\n  }\n}\n\nexport let DivisionMappingComponent = /*#__PURE__*/(() => {\n  class DivisionMappingComponent {\n    constructor(route, fb, partyMasterService) {\n      this.route = route;\n      this.fb = fb;\n      this.partyMasterService = partyMasterService;\n      this.isOpen = false;\n      this.displayedColumns = [];\n      this.selectedAccount = null;\n      this.filteredDivisionList = [];\n      this.DivisionList = [];\n      this.mode = 'add';\n      this.displayedColumns = ['sn', 'branch', 'action'];\n    }\n\n    ngOnInit() {\n      this.activeRoute = this.route.snapshot.url[0].path;\n      this.getDivisionList();\n    }\n\n    openDialog() {\n      this.isOpen = true;\n    }\n\n    close(res) {\n      if (res == \"ok\") {\n        this.divList = this.filteredDivisionList.filter(x => x.isChecked);\n        this.partyMasterService.customermasterObj.customerPartyAccount.divList = this.divList;\n      }\n\n      this.isOpen = false; // Method to close the pop-up\n    }\n\n    removeDivision(div) {\n      const index = this.divList.findIndex(x => x.div == div.div);\n\n      if (index !== -1) {\n        this.divList.splice(index, 1);\n        let element = this.filteredDivisionList.find(x => x.div == div.div);\n        element.isChecked = false;\n      }\n    }\n\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.filteredDivisionList = this.DivisionList.filter(x => x.divisionName.toLowerCase().includes(filterValue.trim().toLowerCase()));\n    }\n\n    getDivisionList() {\n      this.partyMasterService.getDivisionList().subscribe(res => {\n        let data = res ? res : res.result;\n        data.forEach(x => {\n          this.DivisionList.push({\n            div: x.INITIAL,\n            divisionName: x.NAME,\n            isChecked: false\n          });\n        });\n        this.filteredDivisionList = this.DivisionList;\n      });\n    }\n\n  }\n\n  DivisionMappingComponent.ɵfac = function DivisionMappingComponent_Factory(t) {\n    return new (t || DivisionMappingComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.PartyMasterLibraryService));\n  };\n\n  DivisionMappingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DivisionMappingComponent,\n    selectors: [[\"lib-division-mapping\"]],\n    inputs: {\n      DivisionList: \"DivisionList\",\n      divList: \"divList\",\n      mode: \"mode\"\n    },\n    decls: 25,\n    vars: 11,\n    consts: [[1, \"row\", \"d-flex\", \"align-items-center\", \"my-4\", \"col-md-8\"], [1, \"col-12\", \"col-md-3\"], [\"for\", \"branches\", \"class\", \"form-label mr-2\", 4, \"ngIf\"], [1, \"col-11\", \"col-md-5\", \"d-flex\"], [\"mat-button\", \"\", \"id\", \"save\", 1, \"w-100\", 3, \"click\"], [4, \"ngIf\"], [1, \"col-11\", \"col-md-4\"], [\"type\", \"checkbox\", \"formControlName\", \"AllBranches\", 1, \"mr-2\"], [1, \"table-container\", \"col-md-6\", \"mt-3\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"custom-popup\", 4, \"ngIf\"], [\"for\", \"branches\", 1, \"form-label\", \"mr-2\"], [1, \"text-danger\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"custom-popup\"], [1, \"popup-content\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"border-bottom\", \"px-4\"], [\"class\", \"popup-header\", 4, \"ngIf\"], [1, \"close-button\", 3, \"click\"], [1, \"px-3\", \"pt-2\"], [1, \"input-group\"], [1, \"input-group-text\"], [\"type\", \"text\", \"placeholder\", \"Search\", \"aria-label\", \"Search\", \"aria-describedby\", \"search-icon\", 1, \"form-control\", \"search\", 3, \"keyup\"], [1, \"popup-body\", \"px-4\", \"py-2\", \"scrollable-content\"], [1, \"row\", \"mb-3\", \"border-bottom\", \"pb-1\"], [1, \"col-md-12\", \"d-flex\", \"flex-wrap\"], [\"class\", \"col-md-6 my-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"popup-footer\", \"px-4\"], [\"mat-button\", \"\", \"id\", \"save\", 2, \"width\", \"85px\", \"height\", \"30px\", 3, \"click\"], [1, \"popup-header\"], [1, \"col-md-6\", \"my-2\"], [\"type\", \"checkbox\", 1, \"mr-2\", 3, \"ngModel\", \"checked\", \"ngModelChange\"]],\n    template: function DivisionMappingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, DivisionMappingComponent_label_2_Template, 2, 0, \"label\", 2);\n        i0.ɵɵtemplate(3, DivisionMappingComponent_label_3_Template, 2, 0, \"label\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function DivisionMappingComponent_Template_button_click_5_listener() {\n          return ctx.openDialog();\n        });\n        i0.ɵɵtemplate(6, DivisionMappingComponent_span_6_Template, 2, 0, \"span\", 5);\n        i0.ɵɵtemplate(7, DivisionMappingComponent_span_7_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementStart(8, \"mat-icon\");\n        i0.ɵɵtext(9, \"chevron_right\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelement(11, \"input\", 7);\n        i0.ɵɵtemplate(12, DivisionMappingComponent_span_12_Template, 2, 0, \"span\", 5);\n        i0.ɵɵtemplate(13, DivisionMappingComponent_span_13_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 8)(15, \"table\")(16, \"thead\")(17, \"th\");\n        i0.ɵɵtext(18, \"SN\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, DivisionMappingComponent_th_19_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(20, DivisionMappingComponent_th_20_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(21, DivisionMappingComponent_th_21_Template, 2, 0, \"th\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"tbody\");\n        i0.ɵɵtemplate(23, DivisionMappingComponent_tr_23_Template, 6, 3, \"tr\", 9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(24, DivisionMappingComponent_div_24_Template, 20, 3, \"div\", 10);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute != \"product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute == \"product\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute != \"product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute == \"product\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute != \"product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute == \"product\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute != \"product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeRoute == \"product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mode != \"view\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.divList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isOpen);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.MatIcon, i6.MatButton, i2.CheckboxControlValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.NgModel],\n    styles: [\".heading[_ngcontent-%COMP%]{margin-left:3rem;font:400 1.75rem/2.25rem Roboto,sans-serif;letter-spacing:0}#save[_ngcontent-%COMP%]{background-color:#4081bf;color:#fff;font-size:14px;font-weight:200}#back[_ngcontent-%COMP%]{color:#336799;border:1px solid rgba(51,103,153,1);font-size:14px}#back[_ngcontent-%COMP%]:hover, #save[_ngcontent-%COMP%]:hover{background-color:#336899ac;color:#fff}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500;font-size:16px}input[_ngcontent-%COMP%]::placeholder{color:#acacac;font-size:14px;font-weight:400!important}.star[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff40;box-shadow:0 0 0 .1rem #007bff40}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#4081bf;color:#fff}.btn[_ngcontent-%COMP%]{border:1px solid #d0d0d0;color:#acacac;font-size:14px;font-weight:400}.search-form[_ngcontent-%COMP%]{margin:0 5px;padding:5px;border:none;background-color:#ebebeb;border-radius:4px;width:97%}.search-form[_ngcontent-%COMP%]:focus{outline:none}.dropdown-toggle[_ngcontent-%COMP%]:after{color:#000}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-submenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:50%;left:100%;margin-right:5px}.table-container[_ngcontent-%COMP%]{position:relative;max-height:200px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#ededed}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2%;border:2px solid #EDEDED}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f4f4f4}th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{width:10%}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{width:15%}.custom-popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000004d;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:1000}.popup-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;padding:20px;width:550px;height:70vh;box-shadow:0 4px 15px #00000026}.popup-header[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.popup-body[_ngcontent-%COMP%]{margin:20px 0}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.search[_ngcontent-%COMP%], .input-group-text[_ngcontent-%COMP%]{background-color:#f6f6f6;border:none}.scrollable-content[_ngcontent-%COMP%]{height:40vh;overflow-y:auto}@media (min-width: 1200px){.container[_ngcontent-%COMP%]{max-width:1260px;padding-bottom:5%}}\"]\n  });\n  return DivisionMappingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}